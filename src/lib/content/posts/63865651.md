---
id: '63865651'
title: 'អ្នក​ប្រើប្រាស់​​ដើម'
categories: 'Node.js, Astro'
thumb: ''
date: '2025-08-27T18:00:24'
bookTitle: 'Astro Dynamic Website'
bookThumb: ''
bookChapter: 'មូលដ្ឋាន​ទិន្នន័យ'
videos: ''
---
<p>អ្នក​ប្រើប្រាស់​ដើម​ (root user) គឺ​ជា​អ្នក​ប្រើប្រាស់​ដំបូង​គេ​បង្អស់​ដែល​មាន​​សិទ្ធិ​កាន់កាប់​គេហទំព័រ​ទាំងមូល​។ ការបង្កើត​អ្នក​ប្រើប្រាស់​ដើម​ទាមទារ​អោយ​មាន​ទិន្នន័យ​ស្តី​ពី​ពាក្យ​សំងាត់​ដែល​មិន​ត្រូវ​អោយ​ផ្សេង​ដឹង​ឡើយ​។ រហូត​មកដល់​ពេល​បច្ចុប្បន្ន​នេះ គេនិយម​ប្រើ​វិធី hash password ក្នុង​ការ​កែ​ពាក្យ​សំងាត់​អោយ​ទៅ​ជា​កូដ​ម្យ៉ាង​ដែល​គ្មាន​អ្នកណា​មើល​យល់​ឡើយ​។ ដើម្បី​អាច​ប្រើ​វិធី​នេះ​បាន​ យើង​ចាំបាច់​ត្រូវ​តំលើង​កញ្ចប់​ bcryptjs ​ដោយ​សរសេរ​កូដ​ដូច​ខាង​ក្រោម​នេះ៖</p><pre><code>npm install bcryptjs</code></pre><p>&nbsp;</p><p>ការបង្កើត​អ្នក​ប្រើប្រាស់​ដើម​អាច​ត្រូវ​ធ្វើ​ឡើង​ដូច​ខាង​ក្រោម​នេះ៖</p><pre><code class="js javascript js-code">// src/models/prisma.js
import { PrismaClient } from "@prisma/client"
import { PrismaLibSQL } from '@prisma/adapter-libsql'

let prisma
const adapter = new PrismaLibSQL({
  url: `${process.env.TURSO_DATABASE_URL}`,
  authToken: `${process.env.TURSO_AUTH_TOKEN}`,
})

if (process.env.NODE_ENV === "production") {
  prisma = new PrismaClient({ adapter })
} else {
  if (!global.prisma) {
    global.prisma = new PrismaClient({ adapter })
  }

  prisma = global.prisma
}

export default prisma</code></pre><pre><code class="js javascript js-code">// src/models/user.js
import bcrypt from "bcryptjs"
import prisma from './prisma.js'

class User{
    async createRootUser(){
        const hashPassword = bcrypt.hashSync("xxxxxxxxxxxxxxxxx", 8)

        await prisma.user.create({
            data: {
                id: crypto.randomUUID(),
                email: "sokhavuth@khmerweb.app",
                title: "Sokhavuth",
                password: hashPassword,
                role: "Admin",
                thumb: "",
                content: "",
                date: "",
            }
        })
        
    }
}

export default new User()</code></pre><pre><code class="svelte">&lt;!--src/pages/index.astro--&gt;
---
import Layout from "../components/Layout.astro"
import user from "../models/user.js"
user.createRootUser()
---
 
&lt;Layout title="ដំណឹង​ល្អ" pageURL="/" /&gt;</code></pre>