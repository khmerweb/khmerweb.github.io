---
id: '93808761'
title: 'បង្កើត​ទិន្នន័យ'
categories: 'Node.js, Sveltekit'
thumb: ''
date: '2025-09-29T10:25:01'
bookTitle: 'Desktop App with Electron'
bookThumb: ''
bookChapter: 'Electron & SvelteKit'
videos: ''
---
<p>ទិន្នន័យ​សំរាប់​ធាតុ input ដែល​មាន​​លក្ខណៈ name ជា “categories” អាច​ត្រូវ​សរសេរ​បញ្ចូល​ដោយ​ដៃ​​ផ្ទាល់​ឬ​ស្រង់​យក​ពី​ធាតុ select នៅ​ខាង​ក្រោម​វា​។ ក៏​ប៉ុន្តែយើង​ចាំបាច់​ត្រូវ​សរសេរ​កូដ​ស្រង់​យក​ទិន្នន័យ​ពី​ធាតុ select នោះ នៅ​ពេល​ដែល​ជំពូក​ណា​មួយ​នៅ​ក្នុង​នោះ​ ត្រូវ​បាន​ជ្រើសរើស​យក​។ កូដ​ស្រង់​យក​ទិន្នន័យ​នេះ អាច​ត្រូវ​សរសេរ​ឡើង​នៅ​ក្នុង​សាស្ត្រា​មួយដាច់​​ដោយ​ឡែក​ដូច​ខាង​ក្រោម​នេះ៖</p><pre><code class="typescript">// src/lib/store/state.svelte.ts
export const dialogState = $state({
    showDialog: false,
    message: '',
});

interface ElementState {
    category: string | undefined;
    categories: string | undefined;
    json: string;
    type:  string | undefined;
    id: string | undefined;
    status: string | undefined;
    videos: any[];
}

export const eleState: ElementState = $state({
	category: undefined,
    categories: '',
    json: '',
    type: undefined,
    id: undefined,
    status: undefined,
    videos: [],
});</code></pre><pre><code class="typescript">// src/routes/editor-utils.ts
import { eleState, dialogState } from '$lib/store/state.svelte';

class EditorTools{
	...
	getCategory(){
        if(eleState.categories === ''){
            eleState.categories = eleState.category
        }else{
            eleState.categories += (`, ${eleState.category}`)
        }
    }
}

export default new EditorTools()</code></pre><pre><code class="svelte">&lt;!--src/routes/+page.svelte--&gt;
&lt;script lang="ts"&gt;
...
import tool from "./editor-utils";
import { eleState } from '$lib/store/state.svelte';
...
&lt;/script&gt;

...
&lt;div class="wrapper"&gt;
    &lt;input type="text" list="category" bind:value={eleState.categories} name="cataegories" required placeholder="ជំពូក" /&gt;
    &lt;datalist id="category"&gt;
         &lt;option value="Category 1"&gt;&lt;/option&gt;
    &lt;/datalist&gt;
    &lt;input type="button" value="ឯកសារ​ថ្មី" /&gt;
&lt;/div&gt;
...
&lt;select style="font: var(--body-font);" name="category" bind:value={eleState.category} onchange={tool.getCategory}&gt;
    &lt;option selected disabled &gt;ជ្រើសរើស​យក​ជំពូក&lt;/option&gt;
    &lt;option&gt;Node.js&lt;/option&gt;
    &lt;option&gt;Sveltekit&lt;/option&gt;
    &lt;option&gt;Astro&lt;/option&gt;
    &lt;option&gt;Multimedia&lt;/option&gt;
    &lt;option&gt;Prisma&lt;/option&gt;
    &lt;option&gt;Hono&lt;/option&gt;
    &lt;option&gt;Python&lt;/option&gt;
&lt;/select&gt;
...</code></pre><p>&nbsp;</p><p>ចំពោះ​ទិន្នន័យ​ដែល​ជា​វីដេអូ យើង​អាច​សរសេរ​កូដ​ស្រង់​យក​ទិន្នន័យ​នេះ​និង​ពិនិត្យ​មើល​ថា តើ​វា​ពិត​ជា​សមស្រប​នឹង​អ្វី​ដែល​យើង​ចង់​បាន​ដែរ​ឬ​ទេ​។ បើ​មិន​ត្រឹមត្រូវ​ទេ យើង​អាច​សរសេរ​កូដ​បង្ហាញ​ផ្ទាំង Dialog និង​ប្រាប់​ពី​អ្វី​ដែល​យើង​ចង់​បាន​។</p><pre><code class="typescript">// src/routes/editor-utils.ts
import { eleState, dialogState } from '$lib/store/state.svelte';

class EditorTools{
	...
	genJson(){      
        interface VideoObject {
            type: string | undefined;
            id: string | undefined;
            status: string | undefined;
        }  

        let video: VideoObject = {type:eleState.type, id:eleState.id, status:eleState.status}
        let success = false

        let values = Object.values(video)
        for(let value of values){
            if(!value){
                dialogState.showDialog = true
                dialogState.message = "ចូរ​បំពេញ​កន្លែង​អត្តសញ្ញាណ​វីដេអូ!"
                success = false
                break
            }else{
                success = true
            }
        }
        
        if(success){
            eleState.videos = [video, ...eleState.videos]
            eleState.json = JSON.stringify(eleState.videos)
        }  
    }
    
    deleteRow(e: any) {
        let index = parseInt(e.target.innerHTML)
        eleState.videos.splice(eleState.videos.length - index, 1)
        if(eleState.videos.length === 0){
            eleState.json = ''
        }else{
            eleState.json = JSON.stringify(eleState.videos)
        }
    }
}

export default new EditorTools()</code></pre><pre><code class="svelte">&lt;!--src/routes/+page.svelte--&gt;
&lt;script lang="ts"&gt;
...
import tool from "./editor-utils";
import { eleState } from '$lib/store/state.svelte';
...
&lt;/script&gt;

...
&lt;input type="hidden" name="videos" bind:value={eleState.json}/&gt;
&lt;select id='type' name='type' bind:value={eleState.type} style="font: var(--body-font);"&gt;
    &lt;option&gt;YouTube&lt;/option&gt;
    &lt;option&gt;YouTubePlaylist&lt;/option&gt;
    &lt;option&gt;Facebook&lt;/option&gt;
    &lt;option&gt;OK&lt;/option&gt;
    &lt;option&gt;Dailymotion&lt;/option&gt;
    &lt;option&gt;Vimeo&lt;/option&gt;
&lt;/select&gt;
&lt;input name='videoid' type='text' placeholder="អត្តសញ្ញាណ​វីដេអូ" bind:value={eleState.id} /&gt;
&lt;select name='status' bind:value={eleState.status} style="font: var(--body-font);"&gt;
    &lt;option&gt;ចប់&lt;/option&gt;
    &lt;option&gt;នៅ​មាន​ត&lt;/option&gt;
    &lt;option&gt;~ ចប់&lt;/option&gt;
&lt;/select&gt;
&lt;input onclick={tool.genJson} type="button" value="បញ្ចូលវីដេអូ" /&gt;

{#if eleState.videos.length}
&lt;b&gt;ប្រភេទ​វីដេអូ​&lt;/b&gt;&lt;b&gt;អត្តសញ្ញាណ​វីដេអូ​&lt;/b&gt;&lt;b&gt;ស្ថានភាព&lt;/b&gt;&lt;b&gt;ភាគ/លុប&lt;/b&gt;
{/if}
    
{#each eleState.videos as video, i}
&lt;input value={video.type} required /&gt;
&lt;input value={video.id} /&gt;
&lt;input value={video.status} required /&gt;
&lt;button type="button" title="Delete" onclick={tool.deleteRow} class="episode"&gt;{eleState.videos.length-i}&lt;/button&gt;
{/each}
...</code></pre><p>&nbsp;</p><p>ដូចនេះ នៅ​ពេល​ដែល​មាន​ការបញ្ចូល​វីដេអូ​ ដោយ​មិន​បាន​បំពេញ​កន្លែង​អត្តសញ្ញាណ​វីដេអូ ផ្ទាំង Dialog នឹង​លេច​ឡើង​បង្ហាញព័ត៌មាន​​ថា​ត្រូវ​បំពេញ​កន្លែង​ខ្វះខាត​នោះ​។</p><p>&nbsp;</p><figure class="image"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjWkkNSImvYNEgu6fmA07bj5V0kcmdSdEmYtZog2GV8l5jAKmDqY9kYQmmAmQ57Dl63MXgUR6B-TVvjMo5-VsHNXRBU4TMD7ACFMYp98l1ApWxXOS4ebbZSlulF3kZZTOoUrNV9zMUfg2fQeIsIjGhPhl43b2KlWDqwHbHwM8VDwct8VEx1cQWi6c8IjiQ/s1600/Capture.PNG"></figure>