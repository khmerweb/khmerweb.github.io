---
id: '00695804'
title: 'គំរូ​ទំព័រ​ស្តាទិក'
categories: 'Node.js, Astro'
thumb: ''
date: '2025-09-03T16:56:58'
bookTitle: 'Astro Dynamic Website'
bookThumb: ''
bookChapter: 'ទំព័រ​ស្តាទិក'
videos: ''
---
<p>ភាព​ខុស​គ្នា​រវាង​គំរូ​ទំព័រ​ស្តាទិក​​និង​ទំព័រស្តាទិក គឺ​ស្ថិត​នៅ​ត្រង់​ថា គំរូ​ទំព័រ​ស្តាទិក​ជា​ពុម្ពគំរូ​សំរាប់​បង្កើត​ទំព័រ​ស្តាទិក​។ នៅ​ក្នុង​គំរូទំព័រ​ស្តាទិក មាន​កន្លែង​ជា​ច្រើន​សំរាប់​ទទួល​យក​ទិន្នន័យដើម្បី​បង្កើត​ជា​​សំណុំទិន្នន័យ​​មួយ​តំណាង​អោយ​ទំព័រ​ស្តាទិក​មួយ​ យក​ទៅ​រក្សា​ទុក​នៅ​ក្នុង​មូលដ្ឋាន​ទិន្នន័យ។</p><p>&nbsp;</p><p>ដោយ​សារ​យើង​​បាន​បង្កើតគំរូ​នៃ​ផ្នែកជាច្រើន​សំរាប់​គំរូ​​ទំព័រ​ការផ្សាយ ហើយ​គំរូ​ទំព័រ​ស្តាទិក​នឹង​​យក​ផ្នែក​ទាំងនោះ​មក​ប្រើប្រាស់​ជា​មូលដ្ឋាន​គ្រឹះ ដូចនេះ​ការបង្កើត​គំរូ​ទំព័រ​ស្តាទិក​គ្មាន​អ្វី​ជា​បញ្ហា​ឡើយ។ អ្វី​ដែល​ថ្មី​សំរាប់​គំរូ​ទំព័រ​ស្តាទិក គឺ​ផ្នែក​ដែល​ប្រើប្រាស់ ckeditor ក្នុង​ការសរសេរ​អត្ថបទ។</p><pre><code class="js javascript js-code">&lt;!--src/components/admin/Page.svelte--&gt;
&lt;script&gt;
    // npm install jquery
    import jq from 'jquery'
    let { data } = $props()

    function submitForm(){
        window.onbeforeunload = null
    }

    function save_data_check(){   
        return "Your changes may not be saved."
    }

    $effect(()=&gt;{
        jq('.Editor input').on('change', () =&gt; {
            window.onbeforeunload = save_data_check
        })

        ckeditor.model.document.on( 'change', () =&gt; {
            window.onbeforeunload = save_data_check
        } )
    })
&lt;/script&gt;

&lt;div class="Editor"&gt;
    &lt;script src="/scripts/ckeditor/ckeditor.js"&gt;&lt;/script&gt;
    &lt;form action="/admin/post" method="post" onsubmit={submitForm}&gt;
        &lt;input type="text" name="title" required placeholder="ចំណងជើង" /&gt;
        &lt;div class="wrapper"&gt;
            &lt;textarea name="content" id="editor"&gt;&lt;/textarea&gt;
        &lt;/div&gt;
        &lt;div class="frame"&gt;
            &lt;input type="text" name="thumb" required placeholder="រូប​​តំណាង" /&gt;
            &lt;input type="datetime-local" step="1" name="datetime" required /&gt;
            &lt;input type="submit" value="ចុះ​ផ្សាយ" /&gt;
        &lt;/div&gt;
        &lt;script src="/scripts/ckeditor/config-page.js"&gt;&lt;/script&gt;
    &lt;/form&gt;
&lt;/div&gt;

&lt;style&gt;
    .Editor{
        background-color: white;
        height: 100%;
        position: relative;
    } 
    .Editor .wrapper{
        height: 350px;
    }
    .Editor input{
        width: 100%;
        font: var(--body-font);
        padding: 3px 5px;
    }
    .Editor .frame{
        display: grid;
        grid-template-columns: 45% auto 15%;
        position: absolute;
        bottom: 0;
        width: 100%;
    }
&lt;/style&gt;</code></pre><pre><code class="js javascript js-code">&lt;!--src/pages/admin/page/index.astro--&gt;
---
// @ts-nocheck
const user = await Astro.session?.get('user')
if(!user){return Astro.redirect('/login')}

import Layout from "../../../components/admin/Layout.astro"
import Page from "../../../components/admin/Page.svelte"
import setup from "../../../settings.js"

let form = null

const settings = await setup()
const items = [] 
const count = 0 
const pageNumber = 1 

const data = { user, count, items, info:"ទំព័រ​ស្តាទិក", type:"page", pageNumber, form }
const formCookie = Astro.cookies.get('form')
if(formCookie){
    data.form = JSON.parse(formCookie.value)
    Astro.cookies.delete("form", { path: '/' })
}
---
 
&lt;Layout title="ទំព័រ​ស្តាទិក" data={data} &gt;
    &lt;Page slot="editor" {data} client:load /&gt;
&lt;/Layout&gt;</code></pre><p>&nbsp;</p><p>Netlify: <a href="https://khmerweb-dynamic-blog.netlify.app/login">https://khmerweb-dynamic-blog.netlify.app/login</a></p><p>GitHub: <a href="https://github.com/khmerweb/dynamic-blog">https://github.com/khmerweb/dynamic-blog</a></p>