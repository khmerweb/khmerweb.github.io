---
id: '15650256'
title: '​​​​​​​​លេខទំព័រ​ស្តាទិក'
categories: 'Node.js, Astro'
thumb: ''
date: '2025-09-04T14:37:42'
bookTitle: 'Astro Dynamic Website'
bookThumb: ''
bookChapter: 'ទំព័រ​ស្តាទិក'
videos: ''
---
<p>ការ​ចុះ​លេខ​ទំព័រ​ស្តាទិក​ក៏​មិន​ខុស​គ្នា​ពី​ការចុះ​លេខ​ទំព័រ​ដទៃ​ទៀត​ដែរ គឺ​ត្រូវ​យក​ចំនួន​សរុប​ទាំងអស់​នៃ​ទិន្នន័យ​នៃ​ទំព័រ​ស្តាទិក​មក​ចែក​នឹង​ចំនួន​ទំព័រ​ស្តាទិក​សំរាប់​ទំព័រ​និមួយ​ៗ​។ ការចែក​នេះ​​ត្រូវ​ធ្វើឡើងដោយ​ការយក​​ក្បួន​គណិត​វិទ្យា Math.ceil( ) ​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​នៅក្នុង​កញ្ចប់ ES6 ​មក​ប្រើ​។ ប្រមាណ​វិធី​នេះ​ត្រូវ​ធ្វើ​ឡើង​ក្បួន​ចុង​ផ្លូវ​​នៅ​ក្នុង​ឯកសារ [page].js នៅ​ក្នុង​ថត src/pages/admin/page/paginate។</p><pre><code class="js javascript js-code">// src/models/page.js
import prisma from './prisma.js'

class Page{
    ...
    async paginatePages(page, amount){
        const pages = await prisma.page.findMany({ 
            orderBy: { date: "desc" },
            skip: amount * (page-1),
            take: amount
        })

        return pages
    }
    ...
}

export default new Page()</code></pre><pre><code class="js javascript js-code">// src/pages/admin/page/paginate/[page].js
import pageDb from "../../../../models/page.js"
import setup from "../../../../settings.js"

export async function GET({ params, session, redirect }){
    const user = await session?.get('user')
    if(!user){return redirect('/login')}

    const settings = await setup()
    const items = await pageDb.paginatePages(params.page, settings.dashboard)
    
    return new Response(
        JSON.stringify(items)
    )
}</code></pre><p>&nbsp;</p><p>Netlify: <a href="https://khmerweb-dynamic-blog.netlify.app/login">https://khmerweb-dynamic-blog.netlify.app/login</a></p><p>GitHub: <a href="https://github.com/khmerweb/dynamic-blog">https://github.com/khmerweb/dynamic-blog</a></p>